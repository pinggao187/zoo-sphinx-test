

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Docker User Guide &mdash; analytics-zoo  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Install the latest nightly build wheels for pip" href="../PythonUserGuide/install.html" />
    <link rel="prev" title="zoo.zouwu.model package" href="../zoo.zouwu.model.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> analytics-zoo
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">PythonAPI</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../zoo.automl.html">zoo.automl package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zoo.common.html">zoo.common package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zoo.examples.html">zoo.examples package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zoo.feature.html">zoo.feature package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zoo.models.html">zoo.models package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zoo.orca.html">zoo.orca package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zoo.pipeline.html">zoo.pipeline package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zoo.ray.html">zoo.ray package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zoo.tfpark.html">zoo.tfpark package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zoo.util.html">zoo.util package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zoo.zouwu.html">zoo.zouwu package</a></li>
</ul>
<p class="caption"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Docker User Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#launch-docker-container">Launch Docker Container</a></li>
<li class="toctree-l2"><a class="reference internal" href="#run-jupyter-notebook-example">Run Jupyter Notebook example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#create-jupyter-notebook-example">Create Jupyter Notebook example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#stop-the-docker-container">Stop the  Docker container</a></li>
<li class="toctree-l2"><a class="reference internal" href="#customized-docker-image">Customized Docker image</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pre-installed-packages">Pre-installed Packages</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../PythonUserGuide/install.html"><strong>Install the latest nightly build wheels for pip</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../PythonUserGuide/install.html#install-from-pip-for-local-usage"><strong>Install from pip for local usage</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../PythonUserGuide/install.html#install-from-pip-for-yarn-cluster"><strong>Install from pip for Yarn cluster</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../PythonUserGuide/install.html#install-without-pip"><strong>Install without pip</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../PythonUserGuide/run.html"><strong>Run after pip install</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../PythonUserGuide/run.html#run-on-yarn-after-pip-install"><strong>Run on Yarn after pip install</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../PythonUserGuide/run.html#run-without-pip-install"><strong>Run without pip install</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../PythonUserGuide/run.html#example-code"><strong>Example code</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../DeveloperGuide/python.html"><strong>Download Analytics Zoo Source Code</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../DeveloperGuide/python.html#build-whl-package-for-pip-install"><strong>Build whl package for pip install</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../DeveloperGuide/python.html#run-in-ide"><strong>Run in IDE</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../ScalaUserGuide/install.html"><strong>Download a pre-built library</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../ScalaUserGuide/install.html#link-with-a-release-version"><strong>Link with a release version</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../ScalaUserGuide/install.html#link-with-a-development-version"><strong>Link with a development version</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../ScalaUserGuide/install.html#download-analytics-zoo-source"><strong>Download Analytics Zoo Source</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../ScalaUserGuide/install.html#setup-build-environment"><strong>Setup Build Environment</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../ScalaUserGuide/install.html#build-with-script-recommended"><strong>Build with script (Recommended)</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../ScalaUserGuide/install.html#build-for-spark-1-6"><strong>Build for Spark 1.6</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../ScalaUserGuide/install.html#build-for-scala-2-10-or-2-11"><strong>Build for Scala 2.10 or 2.11</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../ScalaUserGuide/install.html#build-with-maven"><strong>Build with Maven</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../ScalaUserGuide/install.html#setup-ide"><strong>Setup IDE</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../ScalaUserGuide/run.html"><strong>Set Environment Variables</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../ScalaUserGuide/run.html#use-interactive-spark-shell"><strong>Use Interactive Spark Shell</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../ScalaUserGuide/run.html#run-as-a-spark-program"><strong>Run as a Spark Program</strong></a></li>
</ul>
<p class="caption"><span class="caption-text">Programming Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ProgrammingGuide/nnframes.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ProgrammingGuide/nnframes.html#examples">Examples:</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ProgrammingGuide/nnframes.html#primary-apis">Primary APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ProgrammingGuide/autograd.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ProgrammingGuide/transferlearning.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ProgrammingGuide/inference.html"><strong>Load and predict with pre-trained model</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../ProgrammingGuide/inference.html#examples"><strong>Examples</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../ProgrammingGuide/pytorch.html">System Requirement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ProgrammingGuide/pytorch.html#pytorch-api">Pytorch API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ProgrammingGuide/pytorch.html#examples">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ProgrammingGuide/rayonspark.html"><strong>Introduction</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../ProgrammingGuide/rayonspark.html#steps-to-run-rayonspark"><strong>Steps to run RayOnSpark</strong></a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">analytics-zoo</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Docker User Guide</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/DockerUserGuide/index.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="docker-user-guide">
<h1>Docker User Guide<a class="headerlink" href="#docker-user-guide" title="Permalink to this headline">¶</a></h1>
<p>In order to simplify the Analytics Zoo installation and configuration, Analytics Zoo docker images have been built and provided on <a class="reference external" href="https://hub.docker.com/r/intelanalytics/analytics-zoo">Docker Hub</a>. These docker images have been pre-built with all the dependencies and readily configured to run a bunch of Analytics Zoo examples out-of-box on Linux (such as Ubuntu, CentOS), MacOS or Windows. The pre-installed packages are listed at the end of this page. This document provides step-by-step instructions for users to easily start using the Analytics Zoo docker:</p>
<ul class="simple">
<li><a class="reference external" href="#launch-an-analytics-zoo-docker-container">Launch an Analytics Zoo Docker container</a></li>
<li><a class="reference external" href="#run-analytics-zoo-jupyter-notebook-example-in-a-container">Run Analytics Zoo Jupyter Notebook example in a container</a><ul>
<li><a class="reference external" href="#start-the-jupyter-notebook-service-in-the-container">Start the Jupyter Notebook service in the container</a></li>
<li><a class="reference external" href="#connect-to-jupyter-notebook-service">Connect to Jupyter Notebook service</a></li>
<li><a class="reference external" href="#run-analytics-zoo-jupyter-notebook-examples">Run Analytics Zoo Jupyter Notebook examples</a></li>
</ul>
</li>
<li><a class="reference external" href="#create-a-new-analytics-zoo-jupyter-notebook-example">Create a new Analytics Zoo Jupyter Notebook example</a></li>
<li><a class="reference external" href="#shut-down-the-analytics-zoo-docker-container">Shut Down the Analytics Zoo Docker container</a></li>
<li><a class="reference external" href="#build-a-customized-analytics-zoo-docker-image">Build a customized Analytics Zoo Docker image</a></li>
</ul>
<hr class="docutils" />
<div class="section" id="launch-docker-container">
<h2>Launch Docker Container<a class="headerlink" href="#launch-docker-container" title="Permalink to this headline">¶</a></h2>
<p>A Linux user (CentOS or Ubuntu) can pull a Docker image and launch the Docker container with one command line.</p>
<p><strong>1. Getting Ready</strong></p>
<ol class="simple">
<li>Fresh install OS such as Linux OS (CentOS, Ubuntu etc), MacOS or Windows.</li>
<li>Download and Install Docker following the instructions on:
https://docs.docker.com/get-docker/</li>
<li>(Optional) For Docker Desktop users on MacOS and Windows, the default resources (2 CPUs and 2GB memory) is relatively small, you may want to increase them by changing docker desktop configuration. 8GB memory and 4 CPUs should be a good estimator for most examples, and the exact memory requirements vary from different applications. For more information on this, please refer to docker documentation. (<a class="reference external" href="https://docs.docker.com/docker-for-mac/#resources">here</a> for Mac and <a class="reference external" href="https://docs.docker.com/docker-for-windows/#resources">here</a> for windows)</li>
<li>(optional) Pull an Analytics Zoo docker image</li>
</ol>
<ul class="simple">
<li>Note: It is optional to pull an Analytics Zoo docker image in advance, as the command “docker run” in <a class="reference external" href="#launch-analytics-zoo-docker-container">Launch Analytics Zoo Docker container</a> step will check the availability of the docker image and pull the image if it is absent. To manually pull the latest docker image, use:</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">docker</span> <span class="n">pull</span> <span class="n">intelanalytics</span><span class="o">/</span><span class="n">analytics</span><span class="o">-</span><span class="n">zoo</span><span class="p">:</span><span class="n">latest</span>
</pre></div>
</div>
<ul class="simple">
<li>Speed up pulling image by adding mirrors</li>
</ul>
<p>To speed up pulling the image from dockerhub in China, add a registry’s mirror. For Linux OS (CentOS, Ubuntu etc), if the docker version is higher than 1.12, config the docker daemon. Edit <code class="docutils literal notranslate"><span class="pre">/etc/docker/daemon.json</span></code> and add the registry-mirrors key and value:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">{</span>
  <span class="s2">&quot;registry-mirrors&quot;</span>: <span class="o">[</span><span class="s2">&quot;https://&lt;my-docker-mirror-host&gt;&quot;</span><span class="o">]</span>
<span class="o">}</span>
</pre></div>
</div>
<p>For example, add the ustc mirror in China.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">{</span>
  <span class="s2">&quot;registry-mirrors&quot;</span>: <span class="o">[</span><span class="s2">&quot;https://docker.mirrors.ustc.edu.cn&quot;</span><span class="o">]</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Flush changes and restart docker：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo systemctl daemon-reload
sudo systemctl restart docker
</pre></div>
</div>
<p>If your docker version is between 1.8 and 1.11, find the docker configuration which location depends on the operation system. Edit and add <code class="docutils literal notranslate"><span class="pre">DOCKER_OPTS=&quot;--registry-mirror=https://&lt;my-docker-mirror-host&gt;&quot;</span></code>. Restart docker <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">service</span> <span class="pre">docker</span> <span class="pre">restart</span></code>.</p>
<p>If you would like to speed up pulling this image on MacOS or Windows, find the docker setting and config registry-mirrors section by specifying mirror host. Restart docker.</p>
<p>Then pull the image. It will be faster.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo docker pull intelanalytics/analytics-zoo:latest
</pre></div>
</div>
<p><strong>2. Launch Docker container</strong></p>
<p>Launch an Analytics Zoo Docker container with this command line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo docker run -it --rm --net=host -e NotebookPort=12345 -e NotebookToken=&quot;your-token&quot; intelanalytics/analytics-zoo:latest bash
</pre></div>
</div>
<ul class="simple">
<li>The value 12345 is a user specified port number.</li>
<li>The value “your-token” is a user specified string.</li>
</ul>
<p>If you want to specify an Analytics Zoo version, for example 0.7.0, use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">docker</span> <span class="n">run</span> <span class="o">-</span><span class="n">it</span> <span class="o">--</span><span class="n">rm</span> <span class="o">--</span><span class="n">net</span><span class="o">=</span><span class="n">host</span> \
    <span class="o">-</span><span class="n">e</span> <span class="n">NotebookPort</span><span class="o">=</span><span class="mi">12345</span> \
    <span class="o">-</span><span class="n">e</span> <span class="n">NotebookToken</span><span class="o">=</span><span class="s2">&quot;your-token&quot;</span> \
    <span class="n">intelanalytics</span><span class="o">/</span><span class="n">analytics</span><span class="o">-</span><span class="n">zoo</span><span class="p">:</span><span class="mf">0.7</span><span class="o">.</span><span class="mi">0</span><span class="o">-</span><span class="n">bigdl_0</span><span class="o">.</span><span class="mf">10.0</span><span class="o">-</span><span class="n">spark_2</span><span class="o">.</span><span class="mf">4.3</span> <span class="n">bash</span>
</pre></div>
</div>
<p>If you need to use http/https proxy, use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">docker</span> <span class="n">run</span> <span class="o">-</span><span class="n">it</span> <span class="o">--</span><span class="n">rm</span> <span class="o">--</span><span class="n">net</span><span class="o">=</span><span class="n">host</span> \
    <span class="o">-</span><span class="n">e</span> <span class="n">NotebookPort</span><span class="o">=</span><span class="mi">12345</span> \
    <span class="o">-</span><span class="n">e</span> <span class="n">NotebookToken</span><span class="o">=</span><span class="s2">&quot;your-token&quot;</span> \
    <span class="o">-</span><span class="n">e</span> <span class="n">http_proxy</span><span class="o">=</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">your</span><span class="o">-</span><span class="n">proxy</span><span class="o">-</span><span class="n">host</span><span class="p">:</span><span class="n">your</span><span class="o">-</span><span class="n">proxy</span><span class="o">-</span><span class="n">port</span> \
    <span class="o">-</span><span class="n">e</span> <span class="n">https_proxy</span><span class="o">=</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">your</span><span class="o">-</span><span class="n">proxy</span><span class="o">-</span><span class="n">host</span><span class="p">:</span><span class="n">your</span><span class="o">-</span><span class="n">proxy</span><span class="o">-</span><span class="n">port</span> \
    <span class="n">intelanalytics</span><span class="o">/</span><span class="n">analytics</span><span class="o">-</span><span class="n">zoo</span><span class="p">:</span><span class="n">default</span> <span class="n">bash</span>
</pre></div>
</div>
<p>Once the container is sucessfully launched, you will automatically login to the container and see this as the output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">root</span><span class="o">@</span><span class="p">[</span><span class="n">hostname</span><span class="p">]:</span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">work</span><span class="c1">#</span>
</pre></div>
</div>
<p>Note: The /opt/work directory contains:</p>
<ul class="simple">
<li>download-analytics-zoo.sh is used for downloading Analytics-Zoo distributions.</li>
<li>start-notebook.sh is used for starting the jupyter notebook. You can specify the environment settings and spark settings to start a - specified jupyter notebook.</li>
<li>analytics-Zoo-${ANALYTICS_ZOO_VERSION} is the Analytics-Zoo home of Analytics-Zoo distribution.</li>
<li>analytics-zoo-SPARK_x.x-x.x.x-dist.zip is the zip file of Analytics-Zoo distribution.</li>
<li>spark-${SPARK_VERSION} is the Spark home.</li>
<li>analytics-zoo is cloned from https://github.com/intel-analytics/analytics-zoo, contains apps, examples using analytics-zoo.</li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="run-jupyter-notebook-example">
<h2>Run Jupyter Notebook example<a class="headerlink" href="#run-jupyter-notebook-example" title="Permalink to this headline">¶</a></h2>
<p>This section depends on the previous section <a class="reference external" href="#launch-analytics-zoo-docker-container">“Launch Analytics Zoo Docker container”</a>. After the user launches the Analytics Zoo Docker container, the Jupyter Notebook service can be started and Analytics Zoo Jupyter Notebook examples are available.</p>
<p><strong>Start the Jupyter Notebook service in the container</strong></p>
<p>After a Docker container is launched and user login to the container, user can start the Jupyter Notebook service inside the container.</p>
<p>In the /opt/work directory, run this command line to start the Jupyter Notebook service:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#start-notebook.sh</span>
</pre></div>
</div>
<p>As a result, you will see the output message like below. This means the Jupyter Notebook service has started successfully within the container.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[I 01:04:45.625 NotebookApp] Serving notebooks from local directory: /opt/work/analytics-zoo-0.5.0-SNAPSHOT/apps
[I 01:04:45.625 NotebookApp] The Jupyter Notebook is running at:
[I 01:04:45.625 NotebookApp] http://(the-host-name or 127.0.0.1):12345/?token=...
[I 01:04:45.625 NotebookApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).
</pre></div>
</div>
<p><strong>Connect to Jupyter Notebook service from a browser</strong></p>
<p>After the Jupyter Notebook service is successfully started, users can connect to the Jupyter Notebook service from a browser.</p>
<ol class="simple">
<li>Get the IP address of the container</li>
<li>Launch a browser, and connect to the Jupyter Notebook service with the URL:
https://container-ip-address:port-number/?token=your-token</li>
</ol>
<p>As a result, you will see the Jupyter Notebook like this:</p>
<p><img alt="notebook1" src="../_images/notebook1.jpg" /></p>
<p><strong>Run Analytics Zoo Jupyter Notebook examples</strong></p>
<p>After connecting to the Jupyter Notebook in the browser, users can run multiple Analytics Zoo Jupyter Notebook examples. The example shown below is the “dogs-vs-cats”.</p>
<ul class="simple">
<li>Click into the “dogs-vs-cats” folder:</li>
</ul>
<p><img alt="notebook2" src="../_images/notebook2.jpg" /></p>
<ul class="simple">
<li>Open the notebook file:</li>
</ul>
<p><img alt="notebook3" src="../_images/notebook3.jpg" /></p>
<ul class="simple">
<li>Start to run the “dogs-vs-cats” notebook:</li>
</ul>
<p><img alt="notebook4" src="../_images/notebook4.jpg" /></p>
<ul class="simple">
<li>Run through the example and check the prediction:</li>
</ul>
<p><img alt="notebook5" src="../_images/notebook5.jpg" /></p>
</div>
<hr class="docutils" />
<div class="section" id="create-jupyter-notebook-example">
<h2>Create Jupyter Notebook example<a class="headerlink" href="#create-jupyter-notebook-example" title="Permalink to this headline">¶</a></h2>
<p>There are a few ways to quickly start creating a new Analytics Zoo Jupyter Notebook example. Users can “New” a Python notebook from scratch, or use the existing Jupyter Notebook example as an template and modify based on it.</p>
<p><strong>“New” a Jupyter Notebook and write Analytics Zoo code from scratch</strong></p>
<p>Once the user is connected to the Jupyter Notebook service and opens the address in a browser, the user can instantly click the “New” button and start creating a Python notebook example in the existing Analytics Zoo Jupyter Notebook folder.</p>
<p><img alt="notebook6" src="../_images/notebook6.jpg" /></p>
<p><strong>“Make a Copy” from an existing Analytics Zoo Jupyter Notebook example and model after it</strong></p>
<p>The user can also select an existing Analytics Zoo Jupyter Notebook example approximating to his own use case, then click “Make a Copy” and start tailing it.</p>
<p><img alt="notebook7" src="../_images/notebook7.jpg" /></p>
</div>
<hr class="docutils" />
<div class="section" id="stop-the-docker-container">
<h2>Stop the  Docker container<a class="headerlink" href="#stop-the-docker-container" title="Permalink to this headline">¶</a></h2>
<p>Users should shut down the Analytics Zoo Docker container after using it.</p>
<p>A user can list all the active Docker containers by command line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo docker ps
</pre></div>
</div>
<p>As a result, your docker container should be shown like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CONTAINER</span> <span class="n">ID</span>        <span class="n">IMAGE</span>                                        <span class="n">COMMAND</span>                  <span class="n">CREATED</span>             <span class="n">STATUS</span>              <span class="n">PORTS</span>               <span class="n">NAMES</span>
<span class="mi">40</span><span class="n">de2cdad025</span>        <span class="n">intelanalytics</span><span class="o">/</span><span class="n">analytics</span><span class="o">-</span><span class="n">zoo</span><span class="p">:</span><span class="n">latest</span>          <span class="s2">&quot;/opt/work/start-n...&quot;</span>   <span class="mi">3</span> <span class="n">hours</span> <span class="n">ago</span>         <span class="n">Up</span> <span class="mi">3</span> <span class="n">hours</span>                               <span class="n">upbeat_al</span>  
</pre></div>
</div>
<p>Shut down the corresponding docker container by its ID:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo docker rm -f 40de2cdad025        
</pre></div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="customized-docker-image">
<h2>Customized Docker image<a class="headerlink" href="#customized-docker-image" title="Permalink to this headline">¶</a></h2>
<p>A set of pre-build Analytics Zoo Docker images have been provided on the <a class="reference external" href="https://hub.docker.com/r/intelanalytics/analytics-zoo/tags?page=1&amp;ordering=last_updated">Docker Hub</a>. Users can retrieve these Docker images by  “docker pull” command and specify a tag for which Docker image to download. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">docker</span> <span class="n">pull</span> <span class="n">intelanalytics</span><span class="o">/</span><span class="n">analytics</span><span class="o">-</span><span class="n">zoo</span><span class="p">:</span><span class="mf">0.7</span><span class="o">.</span><span class="mi">0</span><span class="o">-</span><span class="n">bigdl_0</span><span class="o">.</span><span class="mf">10.0</span><span class="o">-</span><span class="n">spark_2</span><span class="o">.</span><span class="mf">4.3</span>
<span class="n">sudo</span> <span class="n">docker</span> <span class="n">pull</span> <span class="n">intelanalytics</span><span class="o">/</span><span class="n">analytics</span><span class="o">-</span><span class="n">zoo</span><span class="p">:</span><span class="n">latest</span> 
</pre></div>
</div>
<p>It is recommended to use a pre-build Docker image on the Docker Hub. However you can build or customize an Analytics Zoo Docker image if you do need to do so. Visit Analytics Zoo <a class="reference external" href="./../../../docker/zoo/">Dockerfile</a>. Customize it and build the image. For example:</p>
<ul class="simple">
<li>Build an Analytics Zoo Docker image with latest Analytics Zoo nightly build:</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">docker</span> <span class="n">build</span> <span class="o">--</span><span class="n">rm</span> <span class="o">-</span><span class="n">t</span> <span class="n">intelanalytics</span><span class="o">/</span><span class="n">analytics</span><span class="o">-</span><span class="n">zoo</span><span class="p">:</span><span class="n">default</span> <span class="o">.</span> 
</pre></div>
</div>
<ul class="simple">
<li>Build with http/https proxy:</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">docker</span> <span class="n">build</span> \
    <span class="o">--</span><span class="n">build</span><span class="o">-</span><span class="n">arg</span> <span class="n">http_proxy</span><span class="o">=</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">your</span><span class="o">-</span><span class="n">proxy</span><span class="o">-</span><span class="n">host</span><span class="p">:</span><span class="n">your</span><span class="o">-</span><span class="n">proxy</span><span class="o">-</span><span class="n">port</span> \
    <span class="o">--</span><span class="n">build</span><span class="o">-</span><span class="n">arg</span> <span class="n">https_proxy</span><span class="o">=</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">your</span><span class="o">-</span><span class="n">proxy</span><span class="o">-</span><span class="n">host</span><span class="p">:</span><span class="n">your</span><span class="o">-</span><span class="n">proxy</span><span class="o">-</span><span class="n">port</span> \
    <span class="o">--</span><span class="n">rm</span> <span class="o">-</span><span class="n">t</span> <span class="n">intelanalytics</span><span class="o">/</span><span class="n">analytics</span><span class="o">-</span><span class="n">zoo</span><span class="p">:</span><span class="n">default</span> <span class="o">.</span>
</pre></div>
</div>
<ul class="simple">
<li>Build with specific Analytics Zoo version, BigDL version or Spark version:</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">docker</span> <span class="n">build</span> \
    <span class="o">--</span><span class="n">build</span><span class="o">-</span><span class="n">arg</span> <span class="n">ANALYTICS_ZOO_VERSION</span><span class="o">=</span><span class="mf">0.7</span><span class="o">.</span><span class="mi">0</span> \
    <span class="o">--</span><span class="n">build</span><span class="o">-</span><span class="n">arg</span> <span class="n">BIGDL_VERSION</span><span class="o">=</span><span class="mf">0.11</span><span class="o">.</span><span class="mi">1</span> \
    <span class="o">--</span><span class="n">build</span><span class="o">-</span><span class="n">arg</span> <span class="n">SPARK_VERSION</span><span class="o">=</span><span class="mf">2.4</span><span class="o">.</span><span class="mi">3</span> \
    <span class="o">--</span><span class="n">rm</span> <span class="o">-</span><span class="n">t</span> <span class="n">intelanalytics</span><span class="o">/</span><span class="n">analytics</span><span class="o">-</span><span class="n">zoo</span><span class="p">:</span><span class="mf">0.7</span><span class="o">.</span><span class="mi">0</span><span class="o">-</span><span class="n">bigdl_0</span><span class="o">.</span><span class="mf">10.0</span><span class="o">-</span><span class="n">spark_2</span><span class="o">.</span><span class="mf">4.3</span> <span class="o">.</span>
</pre></div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="pre-installed-packages">
<h2>Pre-installed Packages<a class="headerlink" href="#pre-installed-packages" title="Permalink to this headline">¶</a></h2>
<p>The Analytics-Zoo Docker images have been pre-built with below packages:</p>
<ul class="simple">
<li>git</li>
<li>maven</li>
<li>Oracle jdk 1.8.0_152 (in /opt/jdk1.8.0_152)</li>
<li>python 3.6.9</li>
<li>pip</li>
<li>numpy</li>
<li>scipy</li>
<li>pandas</li>
<li>scikit-learn</li>
<li>matplotlib</li>
<li>seaborn</li>
<li>jupyter</li>
<li>wordcloud</li>
<li>moviepy</li>
<li>requests</li>
<li>tensorflow</li>
<li>spark-${SPARK_VERSION} (in /opt/work/spark-${SPARK_VERSION})</li>
<li>Analytics-Zoo distribution (in /opt/work/analytics-zoo-${ANALYTICS_ZOO_VERSION})</li>
<li>Analytics-Zoo source code (in /opt/work/analytics-zoo)</li>
</ul>
<hr class="docutils" />
<p>In addition to the general Analytics Zoo docker image introduced in this page, the Analytics Zoo hyperzoo image is also pre-built, which is added K8s and cluster serving support. To learn about the hyperzoo imgae, visit <a class="reference external" href="https://analytics-zoo.github.io/master/#ProgrammingGuide/k8s/">here</a>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../PythonUserGuide/install.html" class="btn btn-neutral float-right" title="Install the latest nightly build wheels for pip" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../zoo.zouwu.model.html" class="btn btn-neutral float-left" title="zoo.zouwu.model package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Intel

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>